(function(c,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define('BookKeeper',[],e):'object'==typeof exports?exports.BookKeeper=e():c.BookKeeper=e()})(this,function(){return function(a){function c(f){if(e[f])return e[f].exports;var g=e[f]={exports:{},id:f,loaded:!1};return a[f].call(g.exports,g,g.exports,c),g.loaded=!0,g.exports}var e={};return c.m=a,c.c=e,c.p='',c(0)}([function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(1),g=e(3),h=e(10),j=e(7),k=e(5);c.default={ChartOfAccounts:f.default,DebitAccount:j.default,CreditAccount:k.default,Period:g.default,BankruptError:h.default}},function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(2),g=function(){function h(){this.bsaccts=[],this.isaccts=[],this.eqaccts=[],this.journal=[],this.total=0}return Object.defineProperty(h.prototype,'incomeStatementAccounts',{get:function(){return this.isaccts},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,'balanceSheetAccounts',{get:function(){return this.bsaccts},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,'equityAccounts',{get:function(){return this.eqaccts},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,'accounts',{get:function(){return this.bsaccts.concat(this.isaccts,this.eqaccts)},enumerable:!0,configurable:!0}),h.prototype.incomeStatementAccount=function(j){this.isaccts.push(j)},h.prototype.balanceSheetAccount=function(j){this.bsaccts.push(j)},h.prototype.equityAccount=function(j){this.eqaccts.push(j)},h.prototype.journalEntry=function(j,k,l,m,n){return new f.default(this,j,k,l,m,n)},h.prototype.logJournalEntry=function(j){this.journal.push(j),this.total+=j.amount},h}();c.default=g},function(a,c){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var e=function(){return function(g,h,j,k,l,m){this.amount=k,this.description=j,this.period=h,l.debit(this),m.credit(this),h.logJournalEntry(this),g.logJournalEntry(this)}}();c.default=e},function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(4),g=e(8),h=e(9),j=function(){function k(l,m,n){this.period=l,this.coa=m,this.journal=[],this.total=0,this.autoClose='function'==typeof n?n:function(){throw new Error('You called balanceSheet or incomeStatement prior to closing the period, but you did not provide an autoClose function at instantiation')},this.closed=!1}return k.prototype.logJournalEntry=function(l){this.journal.push(l),this.total+=l.amount},k.prototype.close=function(l){var m=new f.default(this.coa.incomeStatementAccounts);for(var n in l(),this.coa.incomeStatementAccounts){var o=this.coa.incomeStatementAccounts[n];if(0!==o.balance)throw new Error('Income Statement account '+o.name+' has non-zero balance after close')}var q=new g.default(this.coa.balanceSheetAccounts,this.coa.equityAccounts);this.closed=!0,this.financialStatements=new h.default(m,q)},Object.defineProperty(k.prototype,'balanceSheet',{get:function(){return!1===this.closed&&this.close(this.autoClose),this.financialStatements.balanceSheet},enumerable:!0,configurable:!0}),Object.defineProperty(k.prototype,'incomeStatement',{get:function(){return!1===this.closed&&this.close(this.autoClose),this.financialStatements.incomeStatement},enumerable:!0,configurable:!0}),k}();c.default=j},function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(5),g=e(7),h=function(){return function(k){for(var l in this.income={},this.incomeTotal=0,this.expenses={},this.expensesTotal=0,this.netIncome=0,k){var m=k[l];if(m instanceof f.default)this.income[m.name]=m.balance,this.incomeTotal+=m.balance;else if(m instanceof g.default)this.expenses[m.name]=m.balance,this.expensesTotal+=m.balance;else throw cl=m.constructor,new Error('Unknown account type: '+cl.name)}}}();c.default=h},function(a,c,e){'use strict';var f=this&&this.__extends||function(){var j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,l){k.__proto__=l}||function(k,l){for(var m in l)l.hasOwnProperty(m)&&(k[m]=l[m])};return function(k,l){function m(){this.constructor=k}j(k,l),k.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}}();Object.defineProperty(c,'__esModule',{value:!0});var g=e(6),h=function(j){function k(){return null!==j&&j.apply(this,arguments)||this}return f(k,j),Object.defineProperty(k.prototype,'balance',{get:function(){return this.credit_total-this.debit_total},enumerable:!0,configurable:!0}),k}(g.default);c.default=h},function(a,c){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var e=function(){function f(g){this.debits=[],this.debit_total=0,this.credits=[],this.credit_total=0,this.name=g}return f.prototype.debit=function(g){this.debits.push(g),this.debit_total+=g.amount},f.prototype.credit=function(g){this.credits.push(g),this.credit_total+=g.amount},f}();c.default=e},function(a,c,e){'use strict';var f=this&&this.__extends||function(){var j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,l){k.__proto__=l}||function(k,l){for(var m in l)l.hasOwnProperty(m)&&(k[m]=l[m])};return function(k,l){function m(){this.constructor=k}j(k,l),k.prototype=null===l?Object.create(l):(m.prototype=l.prototype,new m)}}();Object.defineProperty(c,'__esModule',{value:!0});var g=e(6),h=function(j){function k(){return null!==j&&j.apply(this,arguments)||this}return f(k,j),Object.defineProperty(k.prototype,'balance',{get:function(){return this.debit_total-this.credit_total},enumerable:!0,configurable:!0}),k}(g.default);c.default=h},function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(5),g=e(7),h=function(){return function(k,l){for(var m in this.assets={},this.assetsTotal=0,this.liabilities={},this.liabilitiesTotal=0,this.equity={},this.equityTotal=0,this.netWorth=0,k){var n=k[m];if(n instanceof f.default)this.liabilities[n.name]=n.balance,this.liabilitiesTotal+=n.balance;else if(n instanceof g.default)this.assets[n.name]=n.balance,this.assetsTotal+=n.balance;else throw cl=n.constructor,new Error('Unknown account type: '+cl.name)}for(var m in this.netWorth=this.assetsTotal-this.liabilitiesTotal,l){var n=l[m];if(console.log({i:m,acct:n}),n instanceof f.default)this.equity[n.name]=n.balance,this.equityTotal+=n.balance;else if(n instanceof g.default)throw cl=n.constructor,new Error('Equity account '+n.name+' is a '+cl.name+'. It should be a credit.');else throw cl=n.constructor,new Error('Unknown account type: '+cl.name)}}}();c.default=h},function(a,c){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var e=function(){return function(g,h){this.incomeStatement=g,this.balanceSheet=h}}();c.default=e},function(a,c){'use strict';var e=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,j){h.__proto__=j}||function(h,j){for(var k in j)j.hasOwnProperty(k)&&(h[k]=j[k])};return function(h,j){function k(){this.constructor=h}g(h,j),h.prototype=null===j?Object.create(j):(k.prototype=j.prototype,new k)}}();Object.defineProperty(c,'__esModule',{value:!0});var f=function(g){function h(j,k){var l=g.call(this,j)||this;return l.period=k,l}return e(h,g),h}(Error);c.default=f}])});
