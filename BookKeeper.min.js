(function(c,e){'object'==typeof exports&&'object'==typeof module?module.exports=e():'function'==typeof define&&define.amd?define('BookKeeper',[],e):'object'==typeof exports?exports.BookKeeper=e():c.BookKeeper=e()})(this,function(){return function(a){function c(f){if(e[f])return e[f].exports;var g=e[f]={exports:{},id:f,loaded:!1};return a[f].call(g.exports,g,g.exports,c),g.loaded=!0,g.exports}var e={};return c.m=a,c.c=e,c.p='',c(0)}([function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(1),g=e(4),h=e(9),j=e(3);c.default={ChartOfAccounts:f.default,Period:g.default,BankruptError:h.default,ACCOUNT_TYPE:j.default}},function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(2),g=e(3),h=function(){function j(){this.generalLedger=new f.default('GeneralLedger',g.default.DEBIT_NORMAL),this.assets=this.generalLedger.subAccount('Assets',g.default.DEBIT_NORMAL),this.liabilities=this.generalLedger.subAccount('Liabilities',g.default.CREDIT_NORMAL),this.income=this.generalLedger.subAccount('Income',g.default.CREDIT_NORMAL),this.expenses=this.generalLedger.subAccount('Expenses',g.default.DEBIT_NORMAL),this.equity=this.generalLedger.subAccount('Equity',g.default.DEBIT_NORMAL)}return j.prototype.toString=function(){return'-= Chart of Accounts =-\n'+this.generalLedger.print('')},j}();c.default=h},function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(3),g=function(){function h(j,k){this.name=j,this.accountType=k,this._debits=[],this._debit_total=0,this._credits=[],this._credit_total=0,this.subAccounts=[]}return h.prototype.debit=function(j){this.debits.push(j),this._debit_total+=j},Object.defineProperty(h.prototype,'debits',{get:function(){return this.subAccounts.reduce(function(j,k){return j.concat(k.debits)},this._debits)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,'debit_total',{get:function(){return this.subAccounts.reduce(function(j,k){return j+k._debit_total},this._debit_total)},enumerable:!0,configurable:!0}),h.prototype.credit=function(j){this.credits.push(j),this._credit_total+=j},Object.defineProperty(h.prototype,'credits',{get:function(){return this.subAccounts.reduce(function(j,k){return j.concat(k.credits)},this._credits)},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,'credit_total',{get:function(){return this.subAccounts.reduce(function(j,k){return j+k._credit_total},this._credit_total)},enumerable:!0,configurable:!0}),h.prototype.subAccount=function(j,k){2>arguments.length&&(k=this.accountType);var l=new h(j,k);return this.subAccounts.push(l),l},h.prototype._balance=function(){var j;switch(this.accountType){case f.default.CREDIT_NORMAL:j=this._credit_total-this._debit_total;break;case f.default.DEBIT_NORMAL:j=this._debit_total-this._credit_total;break;default:throw new Error('Unknown account type: '+this.accountType);}return j},Object.defineProperty(h.prototype,'balance',{get:function(){return this.subAccounts.reduce(function(j,k){return j+k.balance},this._balance())},enumerable:!0,configurable:!0}),Object.defineProperty(h.prototype,'statement',{get:function(){for(var j={balance:this._balance(),subAccounts:{}},k=0;k<this.subAccounts.length;k++)j.subAccounts[this.subAccounts[k].name]=this.subAccounts[k].statement,j.balance+=j.subAccounts[this.subAccounts[k].name].balance;return j},enumerable:!0,configurable:!0}),h.prototype.print=function(j,k){void 0===j&&(j=''),void 0===k&&(k='  ');for(var l=''+j+this.name+' $'+this.balance+'\n',m=0;m<this.subAccounts.length;m++)l+=this.subAccounts[m].print(''+j+k,k);return 0<this.subAccounts.length&&l.replace(/\n$/,''),l},h.prototype.toString=function(){return this.print()},h}();c.default=g},function(a,c){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var e;(function(f){f[f.DEBIT_NORMAL=0]='DEBIT_NORMAL',f[f.CREDIT_NORMAL=1]='CREDIT_NORMAL'})(e||(e={})),c.default=e},function(a,c,e){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var f=e(5),g=e(6),h=e(7),j=e(8),k=function(){function l(m,n,o){this.period=m,this.coa=n,this.journal=[],this.autoClose='function'==typeof o?o:function(){throw new Error('You called balanceSheet or incomeStatement prior to closing the period, but you did not provide an autoClose function at instantiation')},this.closed=!1}return l.prototype.close=function(m){var n=new g.default(this.coa);m();for(var o=[this.coa.income,this.coa.expenses],q=0;q<o.length;q++)if(0!==o[q].balance)throw new Error('Income Statement account \''+o[q].name+'\' has non-zero balance $'+o[q].balance+' after close');var r=new h.default(this.coa);this.closed=!0,this.financialStatements=new j.default(n,r)},l.prototype.journalEntry=function(m,n,o,q){this.journalEntryComplex(m,[{amount:n,account:o}],[{amount:n,account:q}])},l.prototype.journalEntryComplex=function(m,n,o){this.journal.push(new f.default(m,n,o))},Object.defineProperty(l.prototype,'balanceSheet',{get:function(){return!1===this.closed&&this.close(this.autoClose),this.financialStatements.balanceSheet},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,'incomeStatement',{get:function(){return!1===this.closed&&this.close(this.autoClose),this.financialStatements.incomeStatement},enumerable:!0,configurable:!0}),l.prototype.printJournal=function(){for(var m='\t      Debits     Credits\n',n=0;n<this.journal.length;n++)m+=this.journal[n].print(12,2,'\t');return m.replace(/\n$/,'')},l.prototype.toString=function(){return this.printJournal()},l}();c.default=k},function(a,c){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var e=function(){function f(g,h,j){this.description=g,this.debits=h,this.credits=j;for(var k=0,l=0;l<h.length;l++)k+=h[l].amount,h[l].account.debit(h[l].amount);for(var m=0,l=0;l<j.length;l++)m+=j[l].amount,j[l].account.credit(j[l].amount);if(k!=m)throw new Error('Debits ('+k+') != Credits ('+m+')')}return f.prototype.print=function(g,h,j){void 0===g&&(g=12),void 0===h&&(h=2),void 0===j&&(j='\t');for(var k='';k.length<g;)k+=' ';for(var o,l=function(q){var r=q.toLocaleString('en-US',{style:'currency',currency:'USD'});for(r=r.substring(0,Math.max(r.length,g));r.length<g;)r=' '+r;return r},m=this.description+'\n',n=0;n<this.debits.length;n++)o=this.debits[n],m+=''+j+l(o.amount)+k+'  '+o.account.name+'\n';for(var o,n=0;n<this.credits.length;n++)o=this.credits[n],m+=''+j+k+l(o.amount)+'  '+o.account.name+'\n';return m},f.prototype.toString=function(){return this.print()},f}();c.default=e},function(a,c){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var e=function(){function f(g){this.subAccounts={},this._netIncome=0;var h=[g.income,g.expenses];for(var j in h){h[j];this.subAccounts[h[j].name]=h[j].statement}this._netIncome=this.subAccounts[g.income.name].balance-this.subAccounts[g.expenses.name].balance}return Object.defineProperty(f.prototype,'netIncome',{get:function(){return this._netIncome},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,'balance',{get:function(){return this._netIncome},enumerable:!0,configurable:!0}),f}();c.default=e},function(a,c){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var e=function(){function f(g){this.subAccounts={},this._netWorth=0;var h=[g.assets,g.liabilities,g.equity];for(var j in h){h[j];this.subAccounts[h[j].name]=h[j].statement}this._netWorth=this.subAccounts[g.assets.name].balance-this.subAccounts[g.liabilities.name].balance}return Object.defineProperty(f.prototype,'netWorth',{get:function(){return this._netWorth},enumerable:!0,configurable:!0}),Object.defineProperty(f.prototype,'balance',{get:function(){return this._netWorth},enumerable:!0,configurable:!0}),f}();c.default=e},function(a,c){'use strict';Object.defineProperty(c,'__esModule',{value:!0});var e=function(){return function(g,h){this.incomeStatement=g,this.balanceSheet=h}}();c.default=e},function(a,c){'use strict';var e=this&&this.__extends||function(){var g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,j){h.__proto__=j}||function(h,j){for(var k in j)j.hasOwnProperty(k)&&(h[k]=j[k])};return function(h,j){function k(){this.constructor=h}g(h,j),h.prototype=null===j?Object.create(j):(k.prototype=j.prototype,new k)}}();Object.defineProperty(c,'__esModule',{value:!0});var f=function(g){function h(j,k){var l=g.call(this,j)||this;return l.period=k,l}return e(h,g),h}(Error);c.default=f}])});
