(function(f,g){'object'==typeof exports&&'object'==typeof module?module.exports=g():'function'==typeof define&&define.amd?define('BookKeeper',[],g):'object'==typeof exports?exports.BookKeeper=g():f.BookKeeper=g()})(this,function(){return function(c){function f(h){if(g[h])return g[h].exports;var l=g[h]={exports:{},id:h,loaded:!1};return c[h].call(l.exports,l,l.exports,f),l.loaded=!0,l.exports}var g={};return f.m=c,f.c=g,f.p='',f(0)}([function(c,f,g){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var h=g(1),l=g(7),m=g(11),n=g(5);f.default={ChartOfAccounts:h.default,Period:l.default,BankruptError:m.default,ACCOUNT_TYPE:n.default}},function(c,f,g){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var h=g(2),l=g(5),m=g(6),n=function(){function o(){this.assets=new h.default('Assets',l.default.DEBIT_NORMAL),this.liabilities=new h.default('Liabilities',l.default.CREDIT_NORMAL),this.equity=new h.default('Equity',l.default.CREDIT_NORMAL),this.income=new h.default('Income',l.default.CREDIT_NORMAL),this.expenses=new h.default('Expenses',l.default.DEBIT_NORMAL),this.contraEquity=new h.default('Contra Equity',l.default.DEBIT_NORMAL),this.generalLedger=new h.default('GeneralLedger',l.default.DEBIT_NORMAL,[this.assets,this.liabilities,this.equity,this.income,this.expenses,this.contraEquity])}return o.prototype.toString=function(){var q=m.formatSnapshots({gl:[m.snapshotAccount(this.generalLedger)]});return q.gl.join('\n')},o}();f.default=n},function(c,f,g){'use strict';var h=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,r){q.__proto__=r}||function(q,r){for(var s in r)r.hasOwnProperty(s)&&(q[s]=r[s])};return function(q,r){function s(){this.constructor=q}o(q,r),q.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}();Object.defineProperty(f,'__esModule',{value:!0});var l=g(3),m=g(4),n=function(o){function q(r,s,t){void 0===t&&(t=[]);var u=o.call(this,r,s)||this;return u.name=r,u.defaultSubAccountType=s,u.subAccounts=t,u}return h(q,o),Object.defineProperty(q.prototype,'debits',{get:function(){return this.subAccounts.reduce(function(r,s){return r.concat(s.debits)},[])},enumerable:!0,configurable:!0}),Object.defineProperty(q.prototype,'credits',{get:function(){return this.subAccounts.reduce(function(r,s){return r.concat(s.credits)},[])},enumerable:!0,configurable:!0}),Object.defineProperty(q.prototype,'balance',{get:function(){var r=this;return this.subAccounts.reduce(function(s,t){return s+(t instanceof m.default&&t.accountType!==r.accountType?-t.balance:t.balance)},0)},enumerable:!0,configurable:!0}),q.prototype.subAccount=function(r,s){void 0===s&&(s=this.accountType);var t=new m.default(r,s);return this.subAccounts.push(t),t},q}(l.default);f.default=n},function(c,f){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var g=function(){function h(l,m){this.name=l,this.accountType=m}return h.prototype.toString=function(){return this.name+'\t$'+this.balance.toFixed(2)},h.prototype.print=function(){for(var q,l=0,m=[],n=this.balance.toFixed(2),o=0;o<this.debits.length;o++)q=''+this.debits[o].toFixed(2),l=Math.max(l,q.length),m.push(q);for(var q,r=[],o=0;o<this.credits.length;o++)q=''+this.credits[o].toFixed(2),l=Math.max(l,q.length),r.push(q);l=Math.max(n.length,l);for(var s='';s.length<l;)s+=' ';for(var t='Debits:\n',o=0;o<m.length;o++)t+='\t$'+(s+m[o]).slice(-l)+'\n';t+='Credits:\n';for(var o=0;o<r.length;o++)t+='\t$'+(s+r[o]).slice(-l)+'\n';return t+='Balance:\n',t+='\t$'+(s+n).slice(-l)+'\n',t},h}();f.default=g},function(c,f,g){'use strict';var h=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,r){q.__proto__=r}||function(q,r){for(var s in r)r.hasOwnProperty(s)&&(q[s]=r[s])};return function(q,r){function s(){this.constructor=q}o(q,r),q.prototype=null===r?Object.create(r):(s.prototype=r.prototype,new s)}}();Object.defineProperty(f,'__esModule',{value:!0});var l=g(5),m=g(3),n=function(o){function q(){var r=null!==o&&o.apply(this,arguments)||this;return r._debits=[],r._debit_total=0,r._credits=[],r._credit_total=0,r._balance=0,r}return h(q,o),q.prototype.debit=function(r){this._debits.push(r),this._debit_total+=r,this._balance+=this.accountType===l.default.DEBIT_NORMAL?r:-r},Object.defineProperty(q.prototype,'debits',{get:function(){return this._debits},enumerable:!0,configurable:!0}),q.prototype.credit=function(r){this._credits.push(r),this._credit_total+=r,this._balance+=this.accountType===l.default.CREDIT_NORMAL?r:-r},Object.defineProperty(q.prototype,'credits',{get:function(){return this._credits},enumerable:!0,configurable:!0}),Object.defineProperty(q.prototype,'balance',{get:function(){return this._balance},enumerable:!0,configurable:!0}),q}(m.default);f.default=n},function(c,f){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var g;(function(h){h[h.DEBIT_NORMAL=0]='DEBIT_NORMAL',h[h.CREDIT_NORMAL=1]='CREDIT_NORMAL'})(g||(g={})),f.default=g},function(c,f,g){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var h=g(2),l=function(n){var o={name:n.name,balance:n.balance,subAccounts:[]};if(n instanceof h.default)for(var q=n,r=0;r<q.subAccounts.length;r++)o.subAccounts.push(l(q.subAccounts[r]));return o};f.snapshotAccount=l;f.formatSnapshots=function(n){var o={},q=0,r=0;Object.keys(n).forEach(function(w){o[w]=[];for(var x=function(z,A){void 0===A&&(A='');var B=z.balance,C={name:A+z.name,balance:B,balanceStr:B.toFixed(2)};C.balanceStr=0>B?C.balanceStr.replace(/-/,'(')+')':' '+C.balanceStr+' ',q=Math.max(q,C.name.length),r=Math.max(r,C.balanceStr.length),o[w].push(C);for(var D=0;D<z.subAccounts.length;D++)x(z.subAccounts[D],A+'  ')},y=0;y<n[w].length;y++)x(n[w][y])});for(var s='';s.length<q;)s+=' ';for(var t='';t.length<r;)t+=' ';var u={};return Object.keys(n).forEach(function(w){u[w]=o[w].map(function(x){var y='';return y+=(x.name+s).slice(0,q)+' ',y+='$'+(t+x.balanceStr).slice(-r),y})}),u}},function(c,f,g){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var h=g(8),l=g(9),m=g(10),n=function(){function o(q,r,s){this.period=q,this.coa=r,this.journal=[],this.closed=!1,this._financialStatements={balanceSheet:null,incomeStatement:null},this.autoClose=3<=arguments.length?s:function(){throw new Error('You must either provide an autoClose function at instantiation or close explicitly prior to accessing financial statements')}}return o.prototype.close=function(q){var r=new l.default(this.coa);1<=arguments.length?q():this.autoClose();for(var s=[this.coa.income,this.coa.expenses],t=0;t<s.length;t++)if(0!==s[t].balance)throw new Error('Income Statement account \''+s[t].name+'\' has non-zero balance $'+s[t].balance+' after close');var u=new m.default(this.coa);this.closed=!0,this._financialStatements={incomeStatement:r,balanceSheet:u}},o.prototype.journalEntry=function(q,r,s,t){this.compoundJournalEntry(q,[{amount:r,account:s}],[{amount:r,account:t}])},o.prototype.compoundJournalEntry=function(q,r,s){if(this.closed)throw new Error('This period has already been closed. You may not add any additional journal entires.');this.journal.push(new h.default(q,r,s))},Object.defineProperty(o.prototype,'financialStatements',{get:function(){return this._financialStatements},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,'balanceSheet',{get:function(){return!1===this.closed&&this.close(this.autoClose),this.financialStatements.balanceSheet},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,'incomeStatement',{get:function(){return!1===this.closed&&this.close(this.autoClose),this.financialStatements.incomeStatement},enumerable:!0,configurable:!0}),o.prototype.printJournal=function(){for(var q=['\t      Debits     Credits  Account'],r=0;r<this.journal.length;r++)q.push(this.journal[r].print(12,2,'\t'));return q.join('\n')},o.prototype.toString=function(){return this.printJournal()},o}();f.default=n},function(c,f){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var g=function(){function h(l,m,n){this.description=l,this.debits=m,this.credits=n;for(var o=0,q=0;q<m.length;q++)o+=m[q].amount,m[q].account.debit(m[q].amount);for(var r=0,q=0;q<n.length;q++)r+=n[q].amount,n[q].account.credit(n[q].amount);if(o!=r)throw new Error('Debits ('+o+') != Credits ('+r+')')}return h.prototype.print=function(l,m,n){void 0===l&&(l=12),void 0===m&&(m=2),void 0===n&&(n='\t');for(var o='';o.length<l;)o+=' ';for(var t,q=function(u){var w=u.toLocaleString('en-US',{style:'currency',currency:'USD'});for(w=w.substring(0,Math.max(w.length,l));w.length<l;)w=' '+w;return w},r=this.description+'\n',s=0;s<this.debits.length;s++)t=this.debits[s],r+=''+n+q(t.amount)+o+'  '+t.account.name+'\n';for(var t,s=0;s<this.credits.length;s++)t=this.credits[s],r+=''+n+o+q(t.amount)+'  '+t.account.name+'\n';return r},h.prototype.toString=function(){return this.print()},h}();f.default=g},function(c,f,g){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var h=g(6),l=function(){function m(n){this.income=h.snapshotAccount(n.income),this.expenses=h.snapshotAccount(n.expenses),this.contraEquity=h.snapshotAccount(n.contraEquity),this.netIncome=this.income.balance-this.expenses.balance}return m.prototype.toString=function(){var n=h.formatSnapshots({income:[this.income],expenses:[this.expenses],contraEquity:[this.contraEquity]});return'Income:\n'+n.income.join('\n')+'\nExpenses:\n'+n.expenses.join('\n')+'\nProfit/(Loss): $'+this.netIncome+'\nPayments to/from Owners:\n'+n.contraEquity.join('\n')+'\n'},m}();f.default=l},function(c,f,g){'use strict';Object.defineProperty(f,'__esModule',{value:!0});var h=g(6),l=function(){function m(n){this.assets=h.snapshotAccount(n.assets),this.liabilities=h.snapshotAccount(n.liabilities),this.equity=h.snapshotAccount(n.equity),this.netWorth=this.assets.balance-this.liabilities.balance}return m.prototype.toString=function(){var n=h.formatSnapshots({assets:[this.assets],liabilities:[this.liabilities],equity:[this.equity]});return'Assets:\n'+n.assets.join('\n')+'\nLiabilities:\n'+n.liabilities.join('\n')+'\nNet Worth: $'+this.netWorth+'\nOwner\'s Equity:\n'+n.equity.join('\n')+'\n'},m}();f.default=l},function(c,f){'use strict';var g=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,n){m.__proto__=n}||function(m,n){for(var o in n)n.hasOwnProperty(o)&&(m[o]=n[o])};return function(m,n){function o(){this.constructor=m}l(m,n),m.prototype=null===n?Object.create(n):(o.prototype=n.prototype,new o)}}();Object.defineProperty(f,'__esModule',{value:!0});var h=function(l){function m(n,o){var q=l.call(this,n)||this;return q.period=o,q}return g(m,l),m}(Error);f.default=h}])});
